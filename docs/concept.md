# matsunoki

## Matsunokiとは

Matsunoki(松の木)とは次世代のwikiエンジンになることを目的に開発されているserverアプリケーションとWebフロントエンドアプリケーションです。

## 目的

Matsunokiを作る上で達成したいとおもっていることは次の通りです。

1. プログラマブルなwikiツールであること
1. バイナリ + middlewareの構成ならどこでも動かせること
1. ソースコードが公開されているwikiエンジンであること
1. モダンであること
1. インクリメンタルに記事を作れる機能があること
1. 編集履歴が存在すること
1. 公開・非公開設定が設定できること
1. Markdownで記述できること

次のセクションからはこれらの目的を順番に詳しく解説していきます。

### プログラマブルなwikiツールであること

#### WebComponents

プログラマが自分でwikiを拡張可能で、自分たちの仕事のツールをカスタマイズしドキュメントに対する生産性を自らの手で向上させることができるような機能を搭載したいと考えています。

具体的に考えている機能として、**WebComponentsによって記事にカスタムタグ**を貼ることができる機能を考えています。

これは次のような記事をmarkdownで記述することによって、

```markdown
## このプロジェクトでやるべきこと

### タスク管理方針

....


### タスク管理ボード

<task-management-todo></task-management-todo>
```

記事中にtodoリストを注入できるという機能を考えています。

また、これを実現するためには WebComponents をホワイトリスト形式でwikiサービスに登録できる機能が必要です。

#### APIが開かれていること

ほぼ全てのAPIはテキストエディタやアプリケーションから触ることができるようにする必要があります。

これはテキストエディタなど、WebAPI以外の概念からmatsunokiのAPIを触り、matsunokiに対して変更を加えたりすることができるようにするためです。

真の書き心地の良さを体現するためには、自らが得意とする環境からwikiを更新できる必要がある と考えています

#### Webhookによって更新を購読できること

Webhookにより次のイベントを更新を購読することで、疑似的な通知機能にしたりユーザーのアプリケーションの一部として組み込めて便利です。

具体的には次のイベントを購読できると嬉しいと感じています。

1. 記事の作成
1. 記事の更新
1. 記事にUserIdが貼られた場合の通知

### バイナリ + middlewareの構成ならどこでも動かせること

アプリケーションの構成として、特定のPaaSが提供するサービスに依存するべきではありません。

### モダンであること

ディレクトリベースのwikiは記事を作る前に階層を決断する必要があり、決断することをコストに考えてドキュメントという資産を残すことに否定的な意見がおこります。

これは人類にとってとてももったいない損失です。

我々はこの問題を解決するために、ディレクトリ階層を決めずに一瞬で新規記事作れるようにしたいと考えています。

とはいえ記事から記事へ移動ができないと不便極まりないので、Scrapboxのような2-pop linkを入れたいと考えています。

### インクリメンタルに記事を作れる機能があること

記事を一回で書くとまとまった文章がさくっと構成されて便利ですが、書き手に要求するカロリーが高いです

そこでコメントのような機能でインクリメンタルに文章を作り、最後に記事にできるような機能を追加したいと考えています。

### 公開・非公開設定が設定できること

非公開のwikiだとしても一部の記事だけインターネットに流したいという欲求を解決するための記事です。

記事単位で公開設定を選択でき、専用の自動生成されたパーマリンクを発行できるようにします。


### Markdownで記述できること

MarkdownはHTMLを内部に内包しており、これを使えばいろいろ拡張性を提供できそうです。
